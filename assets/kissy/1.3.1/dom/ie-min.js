/*
Copyright 2013, KISSY UI Library v1.31
MIT Licensed
build time: Aug 15 00:02
*/
KISSY.add("dom/ie/attr",function(i,b){var e=b._attrHooks,f=b._attrNodeHook,k=b.NodeType,g=b._valHooks,c=b._propFix;if(8>(document.documentMode||i.UA.ie))e.style.set=function(a,d){a.style.cssText=d},i.mix(f,{get:function(a,d){var h=a.getAttributeNode(d);return h&&(h.specified||h.nodeValue)?h.nodeValue:void 0},set:function(a,d,h){var c=a.getAttributeNode(h),j;if(c)c.nodeValue=d;else try{j=a.ownerDocument.createAttribute(h),j.value=d,a.setAttributeNode(j)}catch(b){return a.setAttribute(h,d,0)}}}),i.mix(b._attrFix,
c),e.tabIndex=e.tabindex,i.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){e[a]={get:function(d){d=d.getAttribute(a,2);return d===null?void 0:d}}}),g.button=e.value=f,e.placeholder={get:function(a,d){return a[d]||f.get(a,d)}},g.option={get:function(a){var d=a.attributes.value;return!d||d.specified?a.value:a.text}};(e.href=e.href||{}).set=function(a,d,h){for(var c=a.childNodes,j,b=c.length,f=0<b,b=b-1;0<=b;b--)c[b].nodeType!=k.TEXT_NODE&&(f=0);f&&(j=a.ownerDocument.createElement("b"),
j.style.display="none",a.appendChild(j));a.setAttribute(h,""+d);j&&a.removeChild(j)};return b},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(i,b){var e=document.documentMode||i.UA.ie;b._fixCloneAttributes=function(c,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(c);var d=a.nodeName.toLowerCase(),h=c.childNodes;if("object"===d&&!a.childNodes.length)for(d=0;d<h.length;d++)a.appendChild(h[d].cloneNode(!0));else if("input"===d&&("checkbox"===c.type||"radio"===c.type)){if(c.checked&&(a.defaultChecked=a.checked=c.checked),a.value!==c.value)a.value=c.value}else if("option"===
d)a.selected=c.defaultSelected;else if("input"===d||"textarea"===d)a.defaultValue=c.defaultValue;a.removeAttribute(b.__EXPANDO)};var f=b._creators,k=b._defaultCreator,g=/<tbody/i;8>e&&(f.table=function(c,a){var d=k(c,a);if(g.test(c))return d;var h=d.firstChild,f=i.makeArray(h.childNodes);i.each(f,function(a){"tbody"==b.nodeName(a)&&!a.childNodes.length&&h.removeChild(a)});return d})},{requires:["dom/base"]});KISSY.add("dom/ie",function(i,b){return b},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/selector,./ie/style,./ie/traversal,./ie/input-selection".split(",")});
KISSY.add("dom/ie/input-selection",function(i,b){function e(a,d){var h=0,c=0,b=a.ownerDocument.selection.createRange(),e=f(a);e.inRange(b)&&(e.setEndPoint("EndToStart",b),h=g(a,e).length,d&&(c=h+g(a,b).length));return[h,c]}function f(a){if("textarea"==a.type){var d=a.document.body.createTextRange();d.moveToElementText(a);return d}return a.createTextRange()}function k(a,d,c){var b=Math.min(d,c),j=Math.max(d,c);return b==j?0:"textarea"==a.type?(a=a.value.substring(b,j).replace(/\r\n/g,"\n").length,
d>c&&(a=-a),a):c-d}function g(a,d){if("textarea"==a.type){var c=d.text,b=d.duplicate();if(0==b.compareEndPoints("StartToEnd",b))return c;b.moveEnd("character",-1);b.text==c&&(c+="\r\n");return c}return d.text}var c=b._propHooks;c.selectionStart={set:function(a,c){var b=a.ownerDocument.selection.createRange();if(f(a).inRange(b)){var g=e(a,1)[1],j=k(a,c,g);b.collapse(!1);b.moveStart("character",-j);c>g&&b.collapse(!0);b.select()}},get:function(a){return e(a)[0]}};c.selectionEnd={set:function(a,c){var b=
a.ownerDocument.selection.createRange();if(f(a).inRange(b)){var g=e(a)[0],j=k(a,g,c);b.collapse(!0);b.moveEnd("character",j);g>c&&b.collapse(!1);b.select()}},get:function(a){return e(a,1)[1]}}},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(i,b){if(8>(document.documentMode||i.UA.ie))b._fixInsertionChecked=function f(k){for(var g=0;g<k.length;g++){var c=k[g];if(c.nodeType==b.NodeType.DOCUMENT_FRAGMENT_NODE)f(c.childNodes);else if("input"==b.nodeName(c)){if("checkbox"===c.type||"radio"===c.type)c.defaultChecked=c.checked}else if(c.nodeType==b.NodeType.ELEMENT_NODE)for(var c=c.getElementsByTagName("input"),a=0;a<c.length;a++)f(c[a])}}},{requires:["dom/base"]});
KISSY.add("dom/ie/selector",function(i,b){var e=i.Env.host.document;b._compareNodeOrder=function(b,e){return b.sourceIndex-e.sourceIndex};e.querySelectorAll||(b._getElementsByClassName=function(f,e,g){if(!g)return[];for(var e=g.getElementsByTagName(e||"*"),g=[],c=0,a=0,d=e.length,h;c<d;++c)h=e[c],b._hasSingleClass(h,f)&&(g[a++]=h);return g});b._getElementsByTagName=function(b,e){var g=i.makeArray(e.getElementsByTagName(b)),c,a,d,h;if(b==="*"){c=[];for(d=a=0;h=g[a++];)h.nodeType===1&&(c[d++]=h);g=
c}return g}},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(i,b){var e=b._cssProps,f=document.documentMode||i.UA.ie,k=i.Env.host.document,k=k&&k.documentElement,g=/^(top|right|bottom|left)$/,c=b._CUSTOM_STYLES,a=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;e["float"]="styleFloat";c.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==k.style.opacity&&(c.opacity={get:function(b,c){return a.test((c&&b.currentStyle?b.currentStyle.filter:
b.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,e=a.currentStyle,f=isNaN(b)?"":"alpha(opacity="+100*b+")",g=i.trim(e&&e.filter||c.filter||"");c.zoom=1;if((1<=b||!f)&&!i.trim(g.replace(d,"")))if(c.removeAttribute("filter"),!f||e&&!e.filter)return;c.filter=d.test(g)?g.replace(d,f):g+(g?", ":"")+f}})}catch(h){}var f=8==f,l={};l.thin=f?"1px":"2px";l.medium=f?"3px":"4px";l.thick=f?"5px":"6px";i.each(["","Top","Left","Right","Bottom"],function(a){var b=
"border"+a+"Width",d="border"+a+"Style";c[b]={get:function(a,c){var e=c?a.currentStyle:0,f=e&&""+e[b]||void 0;f&&0>f.indexOf("px")&&(f=l[f]&&"none"!==e[d]?l[f]:0);return f}}});b._getComputedStyle=function(a,c){var c=e[c]||c,d=a.currentStyle&&a.currentStyle[c];if(b._RE_NUM_NO_PX.test(d)&&!g.test(c)){var f=a.style,h=f.left,i=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===c?"1em":d||0;d=f.pixelLeft+"px";f.left=h;a.runtimeStyle.left=i}return""===d?"auto":d}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(i,b){b._contains=function(e,f){e.nodeType==b.NodeType.DOCUMENT_NODE&&(e=e.documentElement);f=f.parentNode;return e==f?!0:f&&f.nodeType==b.NodeType.ELEMENT_NODE?e.contains&&e.contains(f):!1}},{requires:["dom/base"]});
